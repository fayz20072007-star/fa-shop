<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<title>Ø·Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬</title>
<style>
body{
    font-family: Arial;
    background:#f2f2f2;
}
.container{
    width:350px;
    margin:40px auto;
    background:white;
    padding:20px;
    border-radius:10px;
}
label{display:block;margin-top:10px;}
input, select, button{
    width:100%;
    padding:8px;
    margin-top:5px;
}
button{
    background:#0171f9;
    color:white;
    border:none;
    margin-top:15px;
}
.total{
    margin-top:10px;
    font-weight:bold;
    color:green;
}
</style>
</head>
<body>

<div class="container">
<h2>Ù…Ø¹Ù„ÙˆÙ…Ø§Øª Ø§Ù„Ø·Ù„Ø¨</h2>

<label>Ø§Ù„Ù…Ù†ØªØ¬</label>
<input id="productName" readonly>

<label>Ø³Ø¹Ø± Ø§Ù„Ù…Ù†ØªØ¬</label>
<input id="productPrice" readonly>

<label>Ø§Ø³Ù…Ùƒ</label>
<input id="name">

<label>Ø±Ù‚Ù… Ø§Ù„Ù‡Ø§ØªÙ</label>
<input id="phone">

<label>Ø§Ù„ÙˆÙ„Ø§ÙŠØ©</label>
<select id="state" onchange="calcTotal()">
<option value="0">Ø§Ø®ØªØ±</option>
<option value="500">Ø§Ù„Ø¬Ø²Ø§Ø¦Ø± â€“ 500 Ø¯Ø¬</option>
<option value="700">ÙˆÙ‡Ø±Ø§Ù† â€“ 700 Ø¯Ø¬</option>
<option value="600">Ù‚Ø³Ù†Ø·ÙŠÙ†Ø© â€“ 600 Ø¯Ø¬</option>
</select>

<div class="total">
Ø§Ù„Ù…Ø¬Ù…ÙˆØ¹: <span id="total">0</span> Ø¯Ø¬
</div>

<button onclick="sendOrder()" > Ø§Ø±Ø³Ø§Ù„ Ø§Ù„Ø·Ù„Ø¨ Ø¹Ø¨Ø± Ù…Ø³Ù†Ø¬Ø± </button>
</div>

<script>
// Ø¬Ù„Ø¨ Ø§Ù„Ù…Ù†ØªØ¬ Ù…Ù† ØµÙØ­Ø© Ø§Ù„Ù…ØªØ¬Ø±
document.getElementById("productName").value =
    localStorage.getItem("productName");

document.getElementById("productPrice").value =
    localStorage.getItem("productPrice");

function calcTotal(){
    let p = Number(document.getElementById("productPrice").value);
    let s = Number(document.getElementById("state").value);
    document.getElementById("total").innerText = p + s;
}

function sendOrder(){
    alert("ØªÙ… Ø§Ø³ØªÙ„Ø§Ù… Ø§Ù„Ø·Ù„Ø¨ âœ…");
}
</script>
<script>
function sendOrder(){

    let name = document.getElementById("name").value;
    let phone = document.getElementById("phone").value;
    let product = document.getElementById("productName").value;
    let price = document.getElementById("productPrice").value;
    let pageLink = window.location.href; // Ø±Ø§Ø¨Ø· ØµÙØ­Ø© Ø§Ù„Ø·Ù„Ø¨

    if(name === "" || phone === ""){
        alert("ÙŠØ±Ø¬Ù‰ Ù…Ù„Ø¡ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ù…Ø¹Ù„ÙˆÙ…Ø§Øª");
        return;
    }

    let message =
        "ğŸ›’ Ø·Ù„Ø¨ Ø¬Ø¯ÙŠØ¯ Ù…Ù† Ø§Ù„Ù…ÙˆÙ‚Ø¹\n\n" +
        "ğŸ‘¤ Ø§Ù„Ø§Ø³Ù…: " + name + "\n" +
        "ğŸ“ Ø§Ù„Ù‡Ø§ØªÙ: " + phone + "\n" +
        "ğŸ“¦ Ø§Ù„Ù…Ù†ØªØ¬: " + product + "\n" +
        "ğŸ’° Ø§Ù„Ø³Ø¹Ø±: " + price + " Ø¯Ø¬\n\n" +
        "ğŸ”— Ø±Ø§Ø¨Ø· Ø§Ù„Ø·Ù„Ø¨:\n" + pageLink;

    let pageName = "FA_SHOP"; // ğŸ‘ˆ Ø§Ø³Ù… ØµÙØ­Ø© Ø§Ù„ÙÙŠØ³Ø¨ÙˆÙƒ

    let url =
        "https://m.me/" +
        pageName +
        "?text=" +
        encodeURIComponent(message);

    window.open(url, "_blank");
}
</script>
</body>
</html>